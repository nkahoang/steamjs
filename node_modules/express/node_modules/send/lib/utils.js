
/**
 * Return an ETag in the form of `"<size>-<mtime>"`
 * from the given `stat`.
 *
 * @param {Object} stat
 * @return {String}
 * @api private
 */

exports.etag = function(stat***REMOVED*** {
  return '"' + stat.size + '-' + Number(stat.mtime***REMOVED*** + '"';
};

/**
 * decodeURIComponent.
 *
 * Allows V8 to only deoptimize this fn instead of all
 * of send(***REMOVED***.
 *
 * @param {String} path
 * @api private
 */

exports.decode = function(path***REMOVED***{
  try {
    return decodeURIComponent(path***REMOVED***;
***REMOVED*** catch (err***REMOVED*** {
    return -1;
***REMOVED***
};

/**
 * Escape the given string of `html`.
 *
 * @param {String} html
 * @return {String}
 * @api private
 */

exports.escape = function(html***REMOVED***{
  return String(html***REMOVED***
    .replace(/&(?!\w+;***REMOVED***/g, '&amp;'***REMOVED***
    .replace(/</g, '&lt;'***REMOVED***
    .replace(/>/g, '&gt;'***REMOVED***
    .replace(/"/g, '&quot;'***REMOVED***;
};