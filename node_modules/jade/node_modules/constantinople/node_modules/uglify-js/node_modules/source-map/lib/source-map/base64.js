/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2011 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */
if (typeof define !== 'function'***REMOVED*** {
    var define = require('amdefine'***REMOVED***(module, require***REMOVED***;
}
define(function (require, exports, module***REMOVED*** {

  var charToIntMap = {};
  var intToCharMap = {};

  'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
    .split(''***REMOVED***
    .forEach(function (ch, index***REMOVED*** {
      charToIntMap[ch] = index;
      intToCharMap[index] = ch;
  ***REMOVED******REMOVED***;

  /**
   * Encode an integer in the range of 0 to 63 to a single base 64 digit.
   */
  exports.encode = function base64_encode(aNumber***REMOVED*** {
    if (aNumber in intToCharMap***REMOVED*** {
      return intToCharMap[aNumber];
  ***REMOVED***
    throw new TypeError("Must be between 0 and 63: " + aNumber***REMOVED***;
***REMOVED***;

  /**
   * Decode a single base 64 digit to an integer.
   */
  exports.decode = function base64_decode(aChar***REMOVED*** {
    if (aChar in charToIntMap***REMOVED*** {
      return charToIntMap[aChar];
  ***REMOVED***
    throw new TypeError("Not a valid base 64 digit: " + aChar***REMOVED***;
***REMOVED***;

}***REMOVED***;
