/* -*- Mode: js; js-indent-level: 2; -*- */
/*
 * Copyright 2014 Mozilla Foundation and contributors
 * Licensed under the New BSD license. See LICENSE or:
 * http://opensource.org/licenses/BSD-3-Clause
 */
if (typeof define !== 'function'***REMOVED*** {
    var define = require('amdefine'***REMOVED***(module, require***REMOVED***;
}
define(function (require, exports, module***REMOVED*** {

  var libUtil = require('../../lib/source-map/util'***REMOVED***;

  exports['test urls'] = function (assert, util***REMOVED*** {
    var assertUrl = function (url***REMOVED*** {
      assert.equal(url, libUtil.urlGenerate(libUtil.urlParse(url***REMOVED******REMOVED******REMOVED***;
  ***REMOVED***;
    assertUrl('http://'***REMOVED***;
    assertUrl('http://www.example.com'***REMOVED***;
    assertUrl('http://user:pass@www.example.com'***REMOVED***;
    assertUrl('http://www.example.com:80'***REMOVED***;
    assertUrl('http://www.example.com/'***REMOVED***;
    assertUrl('http://www.example.com/foo/bar'***REMOVED***;
    assertUrl('http://www.example.com/foo/bar/'***REMOVED***;
    assertUrl('http://user:pass@www.example.com:80/foo/bar/'***REMOVED***;

    assertUrl('//'***REMOVED***;
    assertUrl('//www.example.com'***REMOVED***;
    assertUrl('file:///www.example.com'***REMOVED***;

    assert.equal(libUtil.urlParse('a//b'***REMOVED***, null***REMOVED***;
***REMOVED***;

  exports['test normalize(***REMOVED***'] = function (assert, util***REMOVED*** {
    assert.equal(libUtil.normalize('/..'***REMOVED***, '/'***REMOVED***;
    assert.equal(libUtil.normalize('/../'***REMOVED***, '/'***REMOVED***;
    assert.equal(libUtil.normalize('/../../../..'***REMOVED***, '/'***REMOVED***;
    assert.equal(libUtil.normalize('/../../../../a/b/c'***REMOVED***, '/a/b/c'***REMOVED***;
    assert.equal(libUtil.normalize('/a/b/c/../../../d/../../e'***REMOVED***, '/e'***REMOVED***;

    assert.equal(libUtil.normalize('..'***REMOVED***, '..'***REMOVED***;
    assert.equal(libUtil.normalize('../'***REMOVED***, '../'***REMOVED***;
    assert.equal(libUtil.normalize('../../a/'***REMOVED***, '../../a/'***REMOVED***;
    assert.equal(libUtil.normalize('a/..'***REMOVED***, '.'***REMOVED***;
    assert.equal(libUtil.normalize('a/../../..'***REMOVED***, '../..'***REMOVED***;

    assert.equal(libUtil.normalize('/.'***REMOVED***, '/'***REMOVED***;
    assert.equal(libUtil.normalize('/./'***REMOVED***, '/'***REMOVED***;
    assert.equal(libUtil.normalize('/./././.'***REMOVED***, '/'***REMOVED***;
    assert.equal(libUtil.normalize('/././././a/b/c'***REMOVED***, '/a/b/c'***REMOVED***;
    assert.equal(libUtil.normalize('/a/b/c/./././d/././e'***REMOVED***, '/a/b/c/d/e'***REMOVED***;

    assert.equal(libUtil.normalize('.'***REMOVED***, '.'***REMOVED***;
    assert.equal(libUtil.normalize('./'***REMOVED***, '.'***REMOVED***;
    assert.equal(libUtil.normalize('././a'***REMOVED***, 'a'***REMOVED***;
    assert.equal(libUtil.normalize('a/./'***REMOVED***, 'a/'***REMOVED***;
    assert.equal(libUtil.normalize('a/././.'***REMOVED***, 'a'***REMOVED***;

    assert.equal(libUtil.normalize('/a/b//c////d/////'***REMOVED***, '/a/b/c/d/'***REMOVED***;
    assert.equal(libUtil.normalize('///a/b//c////d/////'***REMOVED***, '///a/b/c/d/'***REMOVED***;
    assert.equal(libUtil.normalize('a/b//c////d'***REMOVED***, 'a/b/c/d'***REMOVED***;

    assert.equal(libUtil.normalize('.///.././../a/b//./..'***REMOVED***, '../../a'***REMOVED***

    assert.equal(libUtil.normalize('http://www.example.com'***REMOVED***, 'http://www.example.com'***REMOVED***;
    assert.equal(libUtil.normalize('http://www.example.com/'***REMOVED***, 'http://www.example.com/'***REMOVED***;
    assert.equal(libUtil.normalize('http://www.example.com/./..//a/b/c/.././d//'***REMOVED***, 'http://www.example.com/a/b/d/'***REMOVED***;
***REMOVED***;

  exports['test join(***REMOVED***'] = function (assert, util***REMOVED*** {
    assert.equal(libUtil.join('a', 'b'***REMOVED***, 'a/b'***REMOVED***;
    assert.equal(libUtil.join('a/', 'b'***REMOVED***, 'a/b'***REMOVED***;
    assert.equal(libUtil.join('a//', 'b'***REMOVED***, 'a/b'***REMOVED***;
    assert.equal(libUtil.join('a', 'b/'***REMOVED***, 'a/b/'***REMOVED***;
    assert.equal(libUtil.join('a', 'b//'***REMOVED***, 'a/b/'***REMOVED***;
    assert.equal(libUtil.join('a/', '/b'***REMOVED***, '/b'***REMOVED***;
    assert.equal(libUtil.join('a//', '//b'***REMOVED***, '//b'***REMOVED***;

    assert.equal(libUtil.join('a', '..'***REMOVED***, '.'***REMOVED***;
    assert.equal(libUtil.join('a', '../b'***REMOVED***, 'b'***REMOVED***;
    assert.equal(libUtil.join('a/b', '../c'***REMOVED***, 'a/c'***REMOVED***;

    assert.equal(libUtil.join('a', '.'***REMOVED***, 'a'***REMOVED***;
    assert.equal(libUtil.join('a', './b'***REMOVED***, 'a/b'***REMOVED***;
    assert.equal(libUtil.join('a/b', './c'***REMOVED***, 'a/b/c'***REMOVED***;

    assert.equal(libUtil.join('a', 'http://www.example.com'***REMOVED***, 'http://www.example.com'***REMOVED***;
    assert.equal(libUtil.join('a', 'data:foo,bar'***REMOVED***, 'data:foo,bar'***REMOVED***;


    assert.equal(libUtil.join('http://foo.org/a', 'b'***REMOVED***, 'http://foo.org/a/b'***REMOVED***;
    assert.equal(libUtil.join('http://foo.org/a/', 'b'***REMOVED***, 'http://foo.org/a/b'***REMOVED***;
    assert.equal(libUtil.join('http://foo.org/a//', 'b'***REMOVED***, 'http://foo.org/a/b'***REMOVED***;
    assert.equal(libUtil.join('http://foo.org/a', 'b/'***REMOVED***, 'http://foo.org/a/b/'***REMOVED***;
    assert.equal(libUtil.join('http://foo.org/a', 'b//'***REMOVED***, 'http://foo.org/a/b/'***REMOVED***;
    assert.equal(libUtil.join('http://foo.org/a/', '/b'***REMOVED***, 'http://foo.org/b'***REMOVED***;
    assert.equal(libUtil.join('http://foo.org/a//', '//b'***REMOVED***, 'http://b'***REMOVED***;

    assert.equal(libUtil.join('http://foo.org/a', '..'***REMOVED***, 'http://foo.org/'***REMOVED***;
    assert.equal(libUtil.join('http://foo.org/a', '../b'***REMOVED***, 'http://foo.org/b'***REMOVED***;
    assert.equal(libUtil.join('http://foo.org/a/b', '../c'***REMOVED***, 'http://foo.org/a/c'***REMOVED***;

    assert.equal(libUtil.join('http://foo.org/a', '.'***REMOVED***, 'http://foo.org/a'***REMOVED***;
    assert.equal(libUtil.join('http://foo.org/a', './b'***REMOVED***, 'http://foo.org/a/b'***REMOVED***;
    assert.equal(libUtil.join('http://foo.org/a/b', './c'***REMOVED***, 'http://foo.org/a/b/c'***REMOVED***;

    assert.equal(libUtil.join('http://foo.org/a', 'http://www.example.com'***REMOVED***, 'http://www.example.com'***REMOVED***;
    assert.equal(libUtil.join('http://foo.org/a', 'data:foo,bar'***REMOVED***, 'data:foo,bar'***REMOVED***;


    assert.equal(libUtil.join('http://foo.org', 'a'***REMOVED***, 'http://foo.org/a'***REMOVED***;
    assert.equal(libUtil.join('http://foo.org/', 'a'***REMOVED***, 'http://foo.org/a'***REMOVED***;
    assert.equal(libUtil.join('http://foo.org//', 'a'***REMOVED***, 'http://foo.org/a'***REMOVED***;
    assert.equal(libUtil.join('http://foo.org', '/a'***REMOVED***, 'http://foo.org/a'***REMOVED***;
    assert.equal(libUtil.join('http://foo.org/', '/a'***REMOVED***, 'http://foo.org/a'***REMOVED***;
    assert.equal(libUtil.join('http://foo.org//', '/a'***REMOVED***, 'http://foo.org/a'***REMOVED***;


    assert.equal(libUtil.join('http://', 'www.example.com'***REMOVED***, 'http://www.example.com'***REMOVED***;
    assert.equal(libUtil.join('file:///', 'www.example.com'***REMOVED***, 'file:///www.example.com'***REMOVED***;
    assert.equal(libUtil.join('http://', 'ftp://example.com'***REMOVED***, 'ftp://example.com'***REMOVED***;

    assert.equal(libUtil.join('http://www.example.com', '//foo.org/bar'***REMOVED***, 'http://foo.org/bar'***REMOVED***;
    assert.equal(libUtil.join('//www.example.com', '//foo.org/bar'***REMOVED***, '//foo.org/bar'***REMOVED***;
***REMOVED***;

}***REMOVED***;
