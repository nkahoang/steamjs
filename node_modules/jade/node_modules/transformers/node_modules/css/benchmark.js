
var css = require('./'***REMOVED***
  , fs = require('fs'***REMOVED***
  , read = fs.readFileSync
  , str = read('examples/ui.css', 'utf8'***REMOVED***;

var n = 5000;
var ops = 200;
var t = process.hrtime(t***REMOVED***;
var results = [];

while (n--***REMOVED*** {
  css.stringify(css.parse(str***REMOVED******REMOVED***;
  if (n % ops == 0***REMOVED*** {
    t = process.hrtime(t***REMOVED***;
    var ms = t[1] / 1000 / 1000;
    var persec = (ops * (1000 / ms***REMOVED*** | 0***REMOVED***;
    results.push(persec***REMOVED***;
    process.stdout.write('\r  [' + persec + ' ops/s] [' + n + ']'***REMOVED***;
    t = process.hrtime(***REMOVED***;
***REMOVED***
}

function sum(arr***REMOVED*** {
  return arr.reduce(function(sum, n***REMOVED***{
    return sum + n;
***REMOVED******REMOVED***;
}

function mean(arr***REMOVED*** {
  return sum(arr***REMOVED*** / arr.length | 0;
}

console.log(***REMOVED***;
console.log('   avg: %d ops/s', mean(results***REMOVED******REMOVED***;
console.log('  size: %d kb', (str.length / 1024***REMOVED***.toFixed(2***REMOVED******REMOVED***;