#!/usr/bin/env node
var argv = require('optimist'***REMOVED***
    .usage('Count the lines in a file.\nUsage: $0'***REMOVED***
    .options({
        file : {
            demand : true,
            alias : 'f',
            description : 'Load a file'
      ***REMOVED***,
        base : {
            alias : 'b',
            description : 'Numeric base to use for output',
            default : 10,
      ***REMOVED***,
  ***REMOVED******REMOVED***
    .argv
;

var fs = require('fs'***REMOVED***;
var s = fs.createReadStream(argv.file***REMOVED***;

var lines = 0;
s.on('data', function (buf***REMOVED*** {
    lines += buf.toString(***REMOVED***.match(/\n/g***REMOVED***.length;
}***REMOVED***;

s.on('end', function (***REMOVED*** {
    console.log(lines.toString(argv.base***REMOVED******REMOVED***;
}***REMOVED***;
