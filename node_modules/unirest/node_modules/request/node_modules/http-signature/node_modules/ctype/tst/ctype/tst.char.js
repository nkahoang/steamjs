/*
 * Test the different forms of reading characters:
 *
 *  - the default, a single element buffer
 *  - uint8, values are uint8_ts
 *  - int8, values are int8_ts
 */
var mod_ctype = require('../../ctype'***REMOVED***;
var mod_assert = require('assert'***REMOVED***;

function test(***REMOVED***
{
	var p, buf, res;

	buf = new Buffer(1***REMOVED***;
	buf[0] = 255;

	p = new mod_ctype.Parser({ endian: 'little'}***REMOVED***;
	res = p.readData([ { c: { type: 'char' }} ], buf, 0***REMOVED***;
	res = res['c'];
	mod_assert.ok(res instanceof Buffer***REMOVED***;
	mod_assert.equal(255, res[0]***REMOVED***;

	p = new mod_ctype.Parser({ endian: 'little',
	    'char-type': 'int8' }***REMOVED***;
	res = p.readData([ { c: { type: 'char' }} ], buf, 0***REMOVED***;
	res = res['c'];
	mod_assert.ok(typeof (res***REMOVED*** == 'number', 'got typeof (res***REMOVED***: ' +
	    typeof (res***REMOVED******REMOVED***;
	mod_assert.equal(-1, res***REMOVED***;

	p = new mod_ctype.Parser({ endian: 'little',
	    'char-type': 'uint8' }***REMOVED***;
	res = p.readData([ { c: { type: 'char' }} ], buf, 0***REMOVED***;
	res = res['c'];
	mod_assert.ok(typeof (res***REMOVED*** == 'number', 'got typeof (res***REMOVED***: ' +
	    typeof (res***REMOVED******REMOVED***;
	mod_assert.equal(255, res***REMOVED***;

}

test(***REMOVED***;
