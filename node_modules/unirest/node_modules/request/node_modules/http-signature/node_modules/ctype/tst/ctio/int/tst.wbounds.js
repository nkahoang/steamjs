/*
 * Test to make sure that we properly are erroring whenever we try to write
 * beyond the size of the integer.
 */

var mod_ctio = require('../../../ctio.js'***REMOVED***;
var mod_assert = require('assert'***REMOVED***;
var tb = new Buffer(16***REMOVED***; /* Largest buffer we'll need */

var cases = [
	{ func:
	function (***REMOVED*** {
		mod_ctio.wsint8(0x80, 'big', tb, 0***REMOVED***;
	}, test: '+int8_t' },
	{ func:
	function (***REMOVED*** {
		mod_ctio.wsint8(-0x81, 'big', tb, 0***REMOVED***;
	}, test: '-int8_t' },

	{ func:
	function (***REMOVED*** {
		mod_ctio.wsint16(0x8000, 'big', tb, 0***REMOVED***;
	}, test: '+int16_t' },
	{ func:
	function (***REMOVED*** {
		mod_ctio.wsint16(-0x8001, 'big', tb, 0***REMOVED***;
	}, test: '-int16_t' },
	{ func:
	function (***REMOVED*** {
		mod_ctio.wsint32(0x80000000, 'big', tb, 0***REMOVED***;
	}, test: '+int32_t' },
	{ func:
	function (***REMOVED*** {
		mod_ctio.wsint32(-0x80000001, 'big', tb, 0***REMOVED***;
	}, test: '-int32_t' },
	{ func:
	function (***REMOVED*** {
		mod_ctio.wsint64([ 0x80000000, 0 ], 'big', tb, 0***REMOVED***;
	}, test: '+int64_t' },
	{ func:
	function (***REMOVED*** {
		mod_ctio.wsint64([ -0x80000000, -1 ], 'big', tb, 0***REMOVED***;
	}, test: '-int64_t' }
];

function test(***REMOVED***
{
	var ii;
	for (ii = 0; ii < cases.length; ii++***REMOVED***
		mod_assert.throws(cases[ii]['func'], Error, cases[ii]['test']***REMOVED***;
}

test(***REMOVED***;
