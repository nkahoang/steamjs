/*
 * A battery of tests for sucessful round-trip between writes and reads
 */

var mod_ctype = require('../../../ctio.js'***REMOVED***;
var ASSERT = require('assert'***REMOVED***;


/*
 * What the heck, let's just test every value for 8-bits.
 */

function test8(***REMOVED*** {
	var data = new Buffer(1***REMOVED***;
	var i;
	for (i = 0; i < 256; i++***REMOVED*** {
		mod_ctype.wuint8(i, 'big', data, 0***REMOVED***;
		ASSERT.equal(i, mod_ctype.ruint8(data, 'big', 0***REMOVED******REMOVED***;
		mod_ctype.wuint8(i, 'little', data, 0***REMOVED***;
		ASSERT.equal(i, mod_ctype.ruint8(data, 'little', 0***REMOVED******REMOVED***;
	}
	ASSERT.ok(true***REMOVED***;
}

/*
 * Test a random sample of 256 values in the 16-bit unsigned range
 */

function test16(***REMOVED*** {
	var data = new Buffer(2***REMOVED***;
	var i = 0;
	for (i = 0; i < 256; i++***REMOVED*** {
		var value = Math.round(Math.random(***REMOVED*** * Math.pow(2, 16***REMOVED******REMOVED***;
		mod_ctype.wuint16(value, 'big', data, 0***REMOVED***;
		ASSERT.equal(value, mod_ctype.ruint16(data, 'big', 0***REMOVED******REMOVED***;
		mod_ctype.wuint16(value, 'little', data, 0***REMOVED***;
		ASSERT.equal(value, mod_ctype.ruint16(data, 'little', 0***REMOVED******REMOVED***;
	}
}

/*
 * Test a random sample of 256 values in the 32-bit unsigned range
 */

function test32(***REMOVED*** {
	var data = new Buffer(4***REMOVED***;
	var i = 0;
	for (i = 0; i < 256; i++***REMOVED*** {
		var value = Math.round(Math.random(***REMOVED*** * Math.pow(2, 32***REMOVED******REMOVED***;
		mod_ctype.wuint32(value, 'big', data, 0***REMOVED***;
		ASSERT.equal(value, mod_ctype.ruint32(data, 'big', 0***REMOVED******REMOVED***;
		mod_ctype.wuint32(value, 'little', data, 0***REMOVED***;
		ASSERT.equal(value, mod_ctype.ruint32(data, 'little', 0***REMOVED******REMOVED***;
	}
}

/*
 * Test a random sample of 256 values in the 64-bit unsigned range
 */

function test64(***REMOVED*** {
	var data = new Buffer(8***REMOVED***;
	var i = 0;
	for (i = 0; i < 256; i++***REMOVED*** {
		var low = Math.round(Math.random(***REMOVED*** * Math.pow(2, 32***REMOVED******REMOVED***;
		var high = Math.round(Math.random(***REMOVED*** * Math.pow(2, 32***REMOVED******REMOVED***;
		mod_ctype.wuint64([high, low], 'big', data, 0***REMOVED***;
		var result = mod_ctype.ruint64(data, 'big', 0***REMOVED***;
		ASSERT.equal(high, result[0]***REMOVED***;
		ASSERT.equal(low, result[1]***REMOVED***;
		mod_ctype.wuint64([high, low], 'little', data, 0***REMOVED***;
		result = mod_ctype.ruint64(data, 'little', 0***REMOVED***;
		ASSERT.equal(high, result[0]***REMOVED***;
		ASSERT.equal(low, result[1]***REMOVED***;
	}
}

exports.test8 = test8;
exports.test16 = test16;
exports.test32 = test32;
exports.test64 = test64;
