var common = require('../common'***REMOVED***;
var assert = common.assert;
var CombinedStream = common.CombinedStream;

(function testDataSizeGetter(***REMOVED*** {
  var combinedStream = CombinedStream.create(***REMOVED***;

  assert.strictEqual(combinedStream.dataSize, 0***REMOVED***;

  // Test one stream
  combinedStream._streams.push({dataSize: 10}***REMOVED***;
  combinedStream._updateDataSize(***REMOVED***;
  assert.strictEqual(combinedStream.dataSize, 10***REMOVED***;

  // Test two streams
  combinedStream._streams.push({dataSize: 23}***REMOVED***;
  combinedStream._updateDataSize(***REMOVED***;
  assert.strictEqual(combinedStream.dataSize, 33***REMOVED***;

  // Test currentStream
  combinedStream._currentStream = {dataSize: 20};
  combinedStream._updateDataSize(***REMOVED***;
  assert.strictEqual(combinedStream.dataSize, 53***REMOVED***;

  // Test currentStream without dataSize
  combinedStream._currentStream = {};
  combinedStream._updateDataSize(***REMOVED***;
  assert.strictEqual(combinedStream.dataSize, 33***REMOVED***;

  // Test stream function
  combinedStream._streams.push(function(***REMOVED*** {}***REMOVED***;
  combinedStream._updateDataSize(***REMOVED***;
  assert.strictEqual(combinedStream.dataSize, 33***REMOVED***;
}***REMOVED***(***REMOVED***;
