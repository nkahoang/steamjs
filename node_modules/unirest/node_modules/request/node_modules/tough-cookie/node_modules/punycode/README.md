# Punycode.js [![Build status](https://travis-ci.org/bestiejs/punycode.js.png?branch=master***REMOVED***](https://travis-ci.org/bestiejs/punycode.js***REMOVED*** [![Dependency status](https://gemnasium.com/bestiejs/punycode.js.png***REMOVED***](https://gemnasium.com/bestiejs/punycode.js***REMOVED***

A robust Punycode converter that fully complies to [RFC 3492](http://tools.ietf.org/html/rfc3492***REMOVED*** and [RFC 5891](http://tools.ietf.org/html/rfc5891***REMOVED***, and works on nearly all JavaScript platforms.

This JavaScript library is the result of comparing, optimizing and documenting different open-source implementations of the Punycode algorithm:

* [The C example code from RFC 3492](http://tools.ietf.org/html/rfc3492#appendix-C***REMOVED***
* [`punycode.c` by _Markus W. Scherer_ (IBM***REMOVED***](http://opensource.apple.com/source/ICU/ICU-400.42/icuSources/common/punycode.c***REMOVED***
* [`punycode.c` by _Ben Noordhuis_](https://github.com/bnoordhuis/punycode/blob/master/punycode.c***REMOVED***
* [JavaScript implementation by _some_](http://stackoverflow.com/questions/183485/can-anyone-recommend-a-good-free-javascript-for-punycode-to-unicode-conversion/301287#301287***REMOVED***
* [`punycode.js` by _Ben Noordhuis_](https://github.com/joyent/node/blob/426298c8c1c0d5b5224ac3658c41e7c2a3fe9377/lib/punycode.js***REMOVED*** (note: [not fully compliant](https://github.com/joyent/node/issues/2072***REMOVED******REMOVED***

This project is [bundled](https://github.com/joyent/node/blob/master/lib/punycode.js***REMOVED*** with [Node.js v0.6.2+](https://github.com/joyent/node/compare/975f1930b1...61e796decc***REMOVED***.

## Installation

Via [npm](http://npmjs.org/***REMOVED*** (only required for Node.js releases older than v0.6.2***REMOVED***:

```bash
npm install punycode
```

Via [Bower](http://bower.io/***REMOVED***:

```bash
bower install punycode
```

Via [Component](https://github.com/component/component***REMOVED***:

```bash
component install bestiejs/punycode.js
```

In a browser:

```html
<script src="punycode.js"></script>
```

In [Narwhal](http://narwhaljs.org/***REMOVED***, [Node.js](http://nodejs.org/***REMOVED***, and [RingoJS](http://ringojs.org/***REMOVED***:

```js
var punycode = require('punycode'***REMOVED***;
```

In [Rhino](http://www.mozilla.org/rhino/***REMOVED***:

```js
load('punycode.js'***REMOVED***;
```

Using an AMD loader like [RequireJS](http://requirejs.org/***REMOVED***:

```js
require(
  {
    'paths': {
      'punycode': 'path/to/punycode'
  ***REMOVED***
***REMOVED***,
  ['punycode'],
  function(punycode***REMOVED*** {
    console.log(punycode***REMOVED***;
***REMOVED***
***REMOVED***;
```

## API

### `punycode.decode(string***REMOVED***`

Converts a Punycode string of ASCII symbols to a string of Unicode symbols.

```js
// decode domain name parts
punycode.decode('maana-pta'***REMOVED***; // 'mañana'
punycode.decode('--dqo34k'***REMOVED***; // '☃-⌘'
```

### `punycode.encode(string***REMOVED***`

Converts a string of Unicode symbols to a Punycode string of ASCII symbols.

```js
// encode domain name parts
punycode.encode('mañana'***REMOVED***; // 'maana-pta'
punycode.encode('☃-⌘'***REMOVED***; // '--dqo34k'
```

### `punycode.toUnicode(domain***REMOVED***`

Converts a Punycode string representing a domain name to Unicode. Only the Punycoded parts of the domain name will be converted, i.e. it doesn’t matter if you call it on a string that has already been converted to Unicode.

```js
// decode domain names
punycode.toUnicode('xn--maana-pta.com'***REMOVED***; // 'mañana.com'
punycode.toUnicode('xn----dqo34k.com'***REMOVED***; // '☃-⌘.com'
```

### `punycode.toASCII(domain***REMOVED***`

Converts a Unicode string representing a domain name to Punycode. Only the non-ASCII parts of the domain name will be converted, i.e. it doesn’t matter if you call it with a domain that's already in ASCII.

```js
// encode domain names
punycode.toASCII('mañana.com'***REMOVED***; // 'xn--maana-pta.com'
punycode.toASCII('☃-⌘.com'***REMOVED***; // 'xn----dqo34k.com'
```

### `punycode.ucs2`

#### `punycode.ucs2.decode(string***REMOVED***`

Creates an array containing the numeric code point values of each Unicode symbol in the string. While [JavaScript uses UCS-2 internally](http://mathiasbynens.be/notes/javascript-encoding***REMOVED***, this function will convert a pair of surrogate halves (each of which UCS-2 exposes as separate characters***REMOVED*** into a single code point, matching UTF-16.

```js
punycode.ucs2.decode('abc'***REMOVED***; // [0x61, 0x62, 0x63]
// surrogate pair for U+1D306 TETRAGRAM FOR CENTRE:
punycode.ucs2.decode('\uD834\uDF06'***REMOVED***; // [0x1D306]
```

#### `punycode.ucs2.encode(codePoints***REMOVED***`

Creates a string based on an array of numeric code point values.

```js
punycode.ucs2.encode([0x61, 0x62, 0x63]***REMOVED***; // 'abc'
punycode.ucs2.encode([0x1D306]***REMOVED***; // '\uD834\uDF06'
```

### `punycode.version`

A string representing the current Punycode.js version number.

[Full API documentation is available.](https://github.com/bestiejs/punycode.js/tree/master/docs#readme***REMOVED***

## Unit tests & code coverage

After cloning this repository, run `npm install --dev` to install the dependencies needed for Punycode.js development and testing. You may want to install Istanbul _globally_ using `npm install istanbul -g`.

Once that’s done, you can run the unit tests in Node using `npm test` or `node tests/tests.js`. To run the tests in Rhino, Ringo, Narwhal, PhantomJS, and web browsers as well, use `grunt test`.

To generate [the code coverage report](http://rawgithub.com/bestiejs/punycode.js/master/coverage/punycode.js/punycode.js.html***REMOVED***, use `grunt cover`.

Feel free to fork if you see possible improvements!

## Author

| [![twitter/mathias](http://gravatar.com/avatar/24e08a9ea84deb17ae121074d0f17125?s=70***REMOVED***](http://twitter.com/mathias "Follow @mathias on Twitter"***REMOVED*** |
|---|
| [Mathias Bynens](http://mathiasbynens.be/***REMOVED*** |

## Contributors

| [![twitter/jdalton](http://gravatar.com/avatar/299a3d891ff1920b69c364d061007043?s=70***REMOVED***](http://twitter.com/jdalton "Follow @jdalton on Twitter"***REMOVED*** |
|---|
| [John-David Dalton](http://allyoucanleet.com/***REMOVED*** |

## License

Punycode.js is dual licensed under the [MIT](http://mths.be/mit***REMOVED*** and [GPL](http://mths.be/gpl***REMOVED*** licenses.
