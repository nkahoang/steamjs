
/*!
 * Stylus - stack - Frame
 * Copyright(c***REMOVED*** 2010 LearnBoost <dev@learnboost.com>
 * MIT Licensed
 */

/**
 * Module dependencies.
 */

var Scope = require('./scope'***REMOVED***
  , blocks = require('../nodes'***REMOVED***;

/**
 * Initialize a new `Frame` with the given `block`.
 *
 * @param {Block} block
 * @api private
 */

var Frame = module.exports = function Frame(block***REMOVED*** {
  this._scope = false === block.scope
    ? null
    : new Scope;
  this.block = block;
};

/**
 * Return this frame's scope or the parent scope
 * for scope-less blocks.
 *
 * @return {Scope}
 * @api public
 */

Frame.prototype.__defineGetter__('scope', function(***REMOVED***{
  return this._scope || this.parent.scope;
}***REMOVED***;

/**
 * Lookup the given local variable `name`.
 *
 * @param {String} name
 * @return {Node}
 * @api private
 */

Frame.prototype.lookup = function(name***REMOVED***{
  return this.scope.lookup(name***REMOVED***
};

/**
 * Custom inspect.
 *
 * @return {String}
 * @api public
 */

Frame.prototype.inspect = function(***REMOVED***{
  return '[Frame '
    + (false === this.block.scope
        ? 'scope-less'
        : this.scope.inspect(***REMOVED******REMOVED***
    + ']';
};
