var mkdirp = require('../'***REMOVED***.mkdirp;
var ***REMOVED***;
var fs = require('fs'***REMOVED***;
var test = require('tap'***REMOVED***.test;

var ps = [ '', 'tmp' ];

for (var i = 0; i < 25; i++***REMOVED*** {
    var dir = Math.floor(Math.random(***REMOVED*** * Math.pow(16,4***REMOVED******REMOVED***.toString(16***REMOVED***;
    ps.push(dir***REMOVED***;
}

var file = ps.join('/'***REMOVED***;

// a file in the way
var itw = ps.slice(0, 3***REMOVED***.join('/'***REMOVED***;


test('clobber-pre', function (t***REMOVED*** {
    console.error("about to write to "+itw***REMOVED***
    fs.writeFileSync(itw, 'I AM IN THE WAY, THE TRUTH, AND THE LIGHT.'***REMOVED***;

    fs.stat(itw, function (er, stat***REMOVED*** {
        t.ifError(er***REMOVED***
        t.ok(stat && stat.isFile(***REMOVED***, 'should be file'***REMOVED***
        t.end(***REMOVED***
  ***REMOVED******REMOVED***
}***REMOVED***

test('clobber', function (t***REMOVED*** {
    t.plan(2***REMOVED***;
    mkdirp(file, 0755, function (err***REMOVED*** {
        t.ok(err***REMOVED***;
        t.equal(err.code, 'ENOTDIR'***REMOVED***;
        t.end(***REMOVED***;
  ***REMOVED******REMOVED***;
}***REMOVED***;
