var sax = require("../lib/sax"***REMOVED***,
    assert = require("assert"***REMOVED***

function testPosition(chunks, expectedEvents***REMOVED*** {
  var parser = sax.parser(***REMOVED***;
  expectedEvents.forEach(function(expectation***REMOVED*** {
    parser['on' + expectation[0]] = function(***REMOVED*** {
      for (var prop in expectation[1]***REMOVED*** {
        assert.equal(parser[prop], expectation[1][prop]***REMOVED***;
    ***REMOVED***
  ***REMOVED***
***REMOVED******REMOVED***;
  chunks.forEach(function(chunk***REMOVED*** {
    parser.write(chunk***REMOVED***;
***REMOVED******REMOVED***;
};

testPosition(['<div>abcdefgh</div>'],
             [ ['opentag',  { position:  5, startTagPosition:  1 }]
             , ['text',     { position: 19, startTagPosition: 14 }]
             , ['closetag', { position: 19, startTagPosition: 14 }]
             ]***REMOVED***;

testPosition(['<div>abcde','fgh</div>'],
             [ ['opentag',  { position:  5, startTagPosition:  1 }]
             , ['text',     { position: 19, startTagPosition: 14 }]
             , ['closetag', { position: 19, startTagPosition: 14 }]
             ]***REMOVED***;
