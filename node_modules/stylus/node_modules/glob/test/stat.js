var glob = require('../'***REMOVED***
var test = require('tap'***REMOVED***.test
var ***REMOVED***

test('stat all the things', function(t***REMOVED*** {
  var g = new glob.Glob('a/*abc*/**', { stat: true, cwd: __dirname }***REMOVED***
  var matches = []
  g.on('match', function(m***REMOVED*** {
    matches.push(m***REMOVED***
***REMOVED******REMOVED***
  var stats = []
  g.on('stat', function(m***REMOVED*** {
    stats.push(m***REMOVED***
***REMOVED******REMOVED***
  g.on('end', function(eof***REMOVED*** {
    stats = stats.sort(***REMOVED***
    matches = matches.sort(***REMOVED***
    eof = eof.sort(***REMOVED***
    t.same(stats, matches***REMOVED***
    t.same(eof, matches***REMOVED***
    var cache = Object.keys(this.statCache***REMOVED***
    t.same(cache.map(function (f***REMOVED*** {
      return path.relative(__dirname, f***REMOVED***
  ***REMOVED******REMOVED***.sort(***REMOVED***, matches***REMOVED***

    cache.forEach(function(c***REMOVED*** {
      t.equal(typeof this.statCache[c], 'object'***REMOVED***
  ***REMOVED***, this***REMOVED***

    t.end(***REMOVED***
***REMOVED******REMOVED***
}***REMOVED***
