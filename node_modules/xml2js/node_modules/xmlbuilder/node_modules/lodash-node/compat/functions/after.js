/**
 * Lo-Dash 2.4.1 (Custom Build***REMOVED*** <http://lodash.com/>
 * Build: `lodash modularize exports="node" -o ./compat/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var isFunction = require('../objects/isFunction'***REMOVED***;

/**
 * Creates a function that executes `func`, with  the `this` binding and
 * arguments of the created function, only after being called `n` times.
 *
 * @static
 * @memberOf _
 * @category Functions
 * @param {number} n The number of times the function must be called before
 *  `func` is executed.
 * @param {Function} func The function to restrict.
 * @returns {Function} Returns the new restricted function.
 * @example
 *
 * var saves = ['profile', 'settings'];
 *
 * var done = _.after(saves.length, function(***REMOVED*** {
 *   console.log('Done saving!'***REMOVED***;
 * }***REMOVED***;
 *
 * _.forEach(saves, function(type***REMOVED*** {
 *   asyncSave({ 'type': type, 'complete': done }***REMOVED***;
 * }***REMOVED***;
 * // => logs 'Done saving!', after all saves have completed
 */
function after(n, func***REMOVED*** {
  if (!isFunction(func***REMOVED******REMOVED*** {
    throw new TypeError;
***REMOVED***
  return function(***REMOVED*** {
    if (--n < 1***REMOVED*** {
      return func.apply(this, arguments***REMOVED***;
  ***REMOVED***
***REMOVED***;
}

module.exports = after;
