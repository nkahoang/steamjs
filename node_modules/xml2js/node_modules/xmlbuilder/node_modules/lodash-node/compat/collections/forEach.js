/**
 * Lo-Dash 2.4.1 (Custom Build***REMOVED*** <http://lodash.com/>
 * Build: `lodash modularize exports="node" -o ./compat/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var baseCreateCallback = require('../internals/baseCreateCallback'***REMOVED***,
    baseEach = require('../internals/baseEach'***REMOVED***,
    isArray = require('../objects/isArray'***REMOVED***;

/**
 * Iterates over elements of a collection, executing the callback for each
 * element. The callback is bound to `thisArg` and invoked with three arguments;
 * (value, index|key, collection***REMOVED***. Callbacks may exit iteration early by
 * explicitly returning `false`.
 *
 * Note: As with other "Collections" methods, objects with a `length` property
 * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`
 * may be used for object iteration.
 *
 * @static
 * @memberOf _
 * @alias each
 * @category Collections
 * @param {Array|Object|string} collection The collection to iterate over.
 * @param {Function} [callback=identity] The function called per iteration.
 * @param {*} [thisArg] The `this` binding of `callback`.
 * @returns {Array|Object|string} Returns `collection`.
 * @example
 *
 * _([1, 2, 3]***REMOVED***.forEach(function(num***REMOVED*** { console.log(num***REMOVED***; }***REMOVED***.join(','***REMOVED***;
 * // => logs each number and returns '1,2,3'
 *
 * _.forEach({ 'one': 1, 'two': 2, 'three': 3 }, function(num***REMOVED*** { console.log(num***REMOVED***; }***REMOVED***;
 * // => logs each number and returns the object (property order is not guaranteed across environments***REMOVED***
 */
function forEach(collection, callback, thisArg***REMOVED*** {
  if (callback && typeof thisArg == 'undefined' && isArray(collection***REMOVED******REMOVED*** {
    var index = -1,
        length = collection.length;

    while (++index < length***REMOVED*** {
      if (callback(collection[index], index, collection***REMOVED*** === false***REMOVED*** {
        break;
    ***REMOVED***
  ***REMOVED***
***REMOVED*** else {
    baseEach(collection, callback, thisArg***REMOVED***;
***REMOVED***
  return collection;
}

module.exports = forEach;
