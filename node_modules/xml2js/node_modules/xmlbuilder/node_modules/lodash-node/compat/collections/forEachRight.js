/**
 * Lo-Dash 2.4.1 (Custom Build***REMOVED*** <http://lodash.com/>
 * Build: `lodash modularize exports="node" -o ./compat/`
 * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>
 * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>
 * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 * Available under MIT license <http://lodash.com/license>
 */
var baseCreateCallback = require('../internals/baseCreateCallback'***REMOVED***,
    baseEach = require('../internals/baseEach'***REMOVED***,
    isArray = require('../objects/isArray'***REMOVED***,
    isString = require('../objects/isString'***REMOVED***,
    keys = require('../objects/keys'***REMOVED***,
    support = require('../support'***REMOVED***;

/**
 * This method is like `_.forEach` except that it iterates over elements
 * of a `collection` from right to left.
 *
 * @static
 * @memberOf _
 * @alias eachRight
 * @category Collections
 * @param {Array|Object|string} collection The collection to iterate over.
 * @param {Function} [callback=identity] The function called per iteration.
 * @param {*} [thisArg] The `this` binding of `callback`.
 * @returns {Array|Object|string} Returns `collection`.
 * @example
 *
 * _([1, 2, 3]***REMOVED***.forEachRight(function(num***REMOVED*** { console.log(num***REMOVED***; }***REMOVED***.join(','***REMOVED***;
 * // => logs each number from right to left and returns '3,2,1'
 */
function forEachRight(collection, callback, thisArg***REMOVED*** {
  var iterable = collection,
      length = collection ? collection.length : 0;

  callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3***REMOVED***;
  if (isArray(collection***REMOVED******REMOVED*** {
    while (length--***REMOVED*** {
      if (callback(collection[length], length, collection***REMOVED*** === false***REMOVED*** {
        break;
    ***REMOVED***
  ***REMOVED***
***REMOVED*** else {
    if (typeof length != 'number'***REMOVED*** {
      var props = keys(collection***REMOVED***;
      length = props.length;
  ***REMOVED*** else if (support.unindexedChars && isString(collection***REMOVED******REMOVED*** {
      iterable = collection.split(''***REMOVED***;
  ***REMOVED***
    baseEach(collection, function(value, key, collection***REMOVED*** {
      key = props ? props[--length] : --length;
      return callback(iterable[key], key, collection***REMOVED***;
  ***REMOVED******REMOVED***;
***REMOVED***
  return collection;
}

module.exports = forEachRight;
